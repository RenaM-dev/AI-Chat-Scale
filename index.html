<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI채팅 과의존 자가체크 (1분 컷)</title>

  <!-- 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #0b1020;
      --bg-2:#0e1430;
      --card:#121a38cc;
      --text:#ecf0ff;
      --muted:#aab3d9;
      --accent:#7c9aff;
      --accent-2:#9a7cff;
      --ok:#34d399;
      --warn:#f59e0b;
      --alert:#ef4444;
      --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
      --radius:18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 0%, #1f2a6b33 0%, transparent 60%),
        radial-gradient(1000px 500px at 90% 10%, #6f3dd333 0%, transparent 60%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
      min-height:100%;
    }

    .wrap{max-width:980px; margin:40px auto; padding:24px}
    header{
      position:relative;
      padding:28px 24px 24px;
      border-radius:var(--radius);
      background:linear-gradient(135deg, #2a3b8a 0%, #5b36c7 60%, #8a3ed1 100%);
      box-shadow: var(--shadow);
      overflow:hidden;
      isolation:isolate;
    }
    header::after{
      content:"";
      position:absolute; inset:-40% -10% auto auto;
      width:60%; aspect-ratio:1/1;
      background: radial-gradient(closest-side, #ffffff33, #ffffff00 70%);
      filter: blur(16px);
      animation: float 6s ease-in-out infinite alternate;
      z-index:-1;
    }
    @keyframes float{to{transform: translateY(14px) translateX(-10px) scale(1.03)}}

    .title{display:flex; gap:14px; align-items:center; flex-wrap:wrap}
    .title h1{margin:0; font-size: clamp(22px, 4.2vw, 34px); font-weight:800; letter-spacing:-.2px}
    .title .chip{
      padding:6px 10px; border-radius:999px;
      background:#00000033; backdrop-filter: blur(6px);
      font-size:12px; letter-spacing:.2px
    }
    .subtitle{margin:10px 0 0; color:#eef3ff; opacity:.9; font-weight:400}

    .controls{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:16px
    }
    .btn{
      appearance:none; border:none; cursor:pointer;
      padding:10px 14px; border-radius:12px; font-weight:700;
      background:#00000033; color:#fff;
      box-shadow: inset 0 0 0 1px #ffffff22;
      transition: transform .06s ease, background .2s ease;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn.primary{background:#ffffff; color:#1a1a2e}
    .btn.ghost{background:transparent; box-shadow: inset 0 0 0 1px #ffffff33}
    .switch{
      display:inline-flex; align-items:center; gap:8px; padding:8px 10px;
      border-radius:999px; background:#00000033; box-shadow: inset 0 0 0 1px #ffffff22
    }
    .switch input{appearance:none; width:36px; height:20px; background:#2c3359; border-radius:999px; position:relative; outline:none; cursor:pointer}
    .switch input::after{content:""; position:absolute; width:16px; height:16px; border-radius:50%; background:#fff; top:2px; left:2px; transition:left .2s ease}
    .switch input:checked::after{left:18px}

    .grid{
      display:grid; gap:18px; margin-top:22px;
      grid-template-columns: 1fr;
    }
    @media (min-width:860px){ .grid{grid-template-columns: 1fr .48fr} }

    .card{
      background: var(--card);
      border:1px solid #ffffff14;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:22px;
    }

    .hint{color:var(--muted); font-size:14px; line-height:1.6}

    .section-title{
      font-weight:800; margin:10px 0 14px; letter-spacing:-.2px;
      font-size:18px; color:#e8ecff;
    }

    .q{
      border:1px dashed #ffffff22;
      background:#0e14394d;
      padding:16px; border-radius:14px;
      transition: border-color .2s ease, background .2s ease;
    }
    .q:hover{border-color:#ffffff3a; background:#0e143970}
    .q h3{margin:0 0 10px; font-size:16px; font-weight:700}
    .q small{color:var(--muted)}
    .scale{
      margin-top:12px;
      display:grid; grid-template-columns: repeat(4, 1fr); gap:8px;
    }
    .opt{
      position:relative;
    }
    .opt input{position:absolute; opacity:0; pointer-events:none}
    .opt label{
      display:block; width:100%; text-align:center; padding:10px 6px;
      border-radius:10px; font-weight:700; font-size:14px; cursor:pointer;
      background:#101738; box-shadow: inset 0 0 0 1px #ffffff1f;
      user-select:none;
      transition: transform .05s ease, box-shadow .2s ease, background .2s ease;
    }
    .opt label:hover{transform: translateY(-1px)}
    .opt input:checked + label{ 
      background: linear-gradient(180deg, #2b3b86, #28306b);
      box-shadow: inset 0 0 0 2px #7f9cff, 0 6px 18px rgba(124,154,255,.28);
    }

    .kicker{display:inline-flex; align-items:center; gap:8px; font-size:13px; color:var(--muted); margin-bottom:6px}
    .badge{display:inline-grid; place-items:center; width:22px; height:22px; border-radius:6px; font-weight:800; background:#00000040; box-shadow: inset 0 0 0 1px #ffffff22}

    /* 사이드 요약 */
    .score-card .big{
      font-size: clamp(34px, 6vw, 48px);
      font-weight:800; letter-spacing:-.5px
    }
    .meter{
      margin-top:14px; height:10px; border-radius:999px; overflow:hidden;
      background:#ffffff14; box-shadow: inset 0 0 0 1px #ffffff12;
    }
    .meter > span{
      display:block; height:100%; width:0%;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      transition: width .35s cubic-bezier(.2,.7,.1,1);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px; font-size:13px; font-weight:800;
      background:#00000033; box-shadow: inset 0 0 0 1px #ffffff22; color:#e8ecff;
    }
    .list{margin:14px 0 0; padding-left:16px; color:#d7ddff; line-height:1.7}
    .list li{margin:6px 0}

    .footer{
      margin-top:18px; font-size:12.5px; color:#b7c0e8; opacity:.9
    }

    /* 토스트 */
    .toast{
      position: fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(20px);
      background:#101738e6; color:#fff; padding:12px 14px; border-radius:12px;
      box-shadow: var(--shadow); opacity:0; pointer-events:none; transition: .3s ease;
      border:1px solid #ffffff18; font-size:14px;
    }
    .toast.show{opacity:1; transform: translateX(-50%) translateY(0)}
    @media print{
      .controls, .toast{display:none !important}
      body{background:#fff}
      .card, header{box-shadow:none}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">
        <h1>AI채팅 과의존 자가체크 <span style="opacity:.9">(1분 컷)</span></h1>
        <span class="chip">지난 2주 기준</span>
        <span class="chip">0–3점 척도</span>
      </div>
      <p class="subtitle">“5분만…”이 1시간 되는 너를 위해. 지금 상태를 가볍게 점검해보자.</p>
      <div class="controls">
        <button class="btn primary" id="printBtn">인쇄/저장(PDF)</button>
        <button class="btn ghost" id="resetBtn">초기화</button>
        <label class="switch" title="다크/라이트 전환">
          <span style="font-weight:700">다크</span>
          <input id="themeToggle" type="checkbox" />
          <span style="font-weight:700">라이트</span>
        </label>
      </div>
    </header>

    <div class="grid">
      <main class="card" id="questions">
        <div class="hint">아래 각 문항에 대해 <b>0 전혀 아니다 · 1 가끔 · 2 자주 · 3 거의 항상</b> 중 하나를 골라줘.</div>
        <div id="q-wrap"></div>
      </main>

      <aside class="card score-card">
        <div class="kicker"><span class="badge">ℹ️</span> 실시간 점수</div>
        <div class="big"><span id="score">0</span> / 30</div>
        <div class="meter"><span id="bar"></span></div>
        <div style="margin-top:12px; display:flex; gap:8px; flex-wrap:wrap">
          <span class="pill" id="levelPill">상태: -</span>
          <span class="pill" id="answeredPill">응답: 0/10</span>
        </div>

        <h3 class="section-title" style="margin-top:18px">추천 액션</h3>
        <ul class="list" id="tips">
          <li>아래 문항을 먼저 모두 체크해줘.</li>
        </ul>

        <div class="footer">※ 이 도구는 자기점검용이야. 일/학업·건강에 영향이 크다면 전문가 상담을 권장해.</div>
      </aside>
    </div>
  </div>

  <div class="toast" id="toast">클립보드에 복사됨!</div>

  <script>
    // 데이터 정의
    const groups = [
      {
        name: "조절실패",
        items: [
          "“5분만…” 하다가 시간을 자주 넘겼다",
          "그만하려다 다시 켠 적이 있다(리바운드)",
          "해야 할 일(공부/업무)을 미루고 채팅했다"
        ]
      },
      {
        name: "현저성",
        items: [
          "다른 일을 해도 AI채팅 생각이 자꾸 났다",
          "쉬는 시간·잠들기 전 자동으로 앱부터 열었다",
          "답변이 늦으면 마음이 쿵쾅·집중이 흔들렸다"
        ]
      },
      {
        name: "문제적 결과",
        items: [
          "수면 부족 또는 피로가 생겼다",
          "마감 지연·실수 등 성과가 떨어졌다",
          "가족/친구와 갈등·숨김이 있었다",
          "데이터/결제 과다 또는 눈·손목 통증을 무시했다"
        ]
      }
    ];

    const qWrap = document.getElementById("q-wrap");

    // 문항 렌더링
    let qIndex = 0;
    groups.forEach((g, gi)=>{
      const secTitle = document.createElement("h3");
      secTitle.className = "section-title";
      secTitle.textContent = `[${g.name}]`;
      qWrap.appendChild(secTitle);

      g.items.forEach((text)=>{
        qIndex++;
        const box = document.createElement("div");
        box.className = "q";
        box.innerHTML = `
          <h3>${qIndex}. ${text}</h3>
          <div class="scale" role="radiogroup" aria-label="${g.name} - ${text}">
            ${[0,1,2,3].map(v => `
              <div class="opt">
                <input type="radio" name="q${qIndex}" id="q${qIndex}-${v}" value="${v}" />
                <label for="q${qIndex}-${v}" title="${v}점">${v}</label>
              </div>
            `).join("")}
          </div>
        `;
        qWrap.appendChild(box);
      });
    });

    // 상태 갱신
    const scoreEl = document.getElementById("score");
    const barEl = document.getElementById("bar");
    const levelPill = document.getElementById("levelPill");
    const answeredPill = document.getElementById("answeredPill");
    const tipsEl = document.getElementById("tips");

    function compute(){
      const inputs = [...document.querySelectorAll('input[type="radio"]:checked')];
      const answered = new Set(inputs.map(i=>i.name)).size;
      const totalAnsweredScore = inputs.reduce((a,c)=>a+Number(c.value),0);
      const maxScore = 30;
      scoreEl.textContent = totalAnsweredScore;
      barEl.style.width = `${(totalAnsweredScore / maxScore) * 100}%`;
      answeredPill.textContent = `응답: ${answered}/10`;

      // 레벨 판정
      let level = "-", color = "#9aa3d9", tipList = [];
      if (totalAnsweredScore <= 5){ level = "안심 😊"; 
        tipList = [
          "지금 패턴 좋아! 현재 루틴을 메모해 유지하자",
          "앱 알림은 필요한 것만 ON, 나머지 OFF 유지"
        ];
      } else if (totalAnsweredScore <= 11){ level = "주의 🟡";
        tipList = [
          "하루 2블록 타임박스(점심 20분, 저녁 20분)",
          "홈화면에서 앱 아이콘 숨기기"
        ];
      } else if (totalAnsweredScore <= 17){ level = "경고 ⚠️";
        tipList = [
          "알림 전면 OFF + 취침 2시간 전 금지",
          "하루 사용 후 1줄 회고(무엇을 했고 어땠는지)"
        ];
      } else if (totalAnsweredScore <= 23){ level = "높음 🔴";
        tipList = [
          "하루 2회만 접속, 나머지 시간은 로그아웃",
          "대체활동(산책·물 한 컵·스트레칭 2분) 지정"
        ];
      } else { level = "매우 높음 🚨";
        tipList = [
          "1주일 디지털 다이어트(주요 트리거 차단)",
          "지지자와 약속·공개선언, 필요시 전문상담"
        ];
      }
      levelPill.textContent = `상태: ${level}`;

      // 팁 업데이트
      tipsEl.innerHTML = tipList.map(t=>`<li>${t}</li>`).join("") || `<li>아래 문항을 먼저 모두 체크해줘.</li>`;
    }

    document.addEventListener("change", (e)=>{
      if(e.target.matches('input[type="radio"]')) compute();
    });

    // 초기화 & 인쇄 & 테마
    const resetBtn = document.getElementById("resetBtn");
    resetBtn.addEventListener("click", ()=>{
      document.querySelectorAll('input[type="radio"]').forEach(i=>{ i.checked = false; });
      compute();
      toast("초기화했어!");
    });

    const printBtn = document.getElementById("printBtn");
    printBtn.addEventListener("click", ()=> window.print());

    const themeToggle = document.getElementById("themeToggle");
    themeToggle.addEventListener("change", (e)=>{
      const on = e.target.checked;
      if(on){
        document.documentElement.style.setProperty('--bg', '#f6f7ff');
        document.documentElement.style.setProperty('--bg-2', '#e9ecff');
        document.documentElement.style.setProperty('--card', '#ffffffcc');
        document.documentElement.style.setProperty('--text', '#0b1020');
        document.documentElement.style.setProperty('--muted', '#4c5170');
      }else{
        document.documentElement.style.setProperty('--bg', '#0b1020');
        document.documentElement.style.setProperty('--bg-2', '#0e1430');
        document.documentElement.style.setProperty('--card', '#121a38cc');
        document.documentElement.style.setProperty('--text', '#ecf0ff');
        document.documentElement.style.setProperty('--muted', '#aab3d9');
      }
    });

    // 토스트
    const toastEl = document.getElementById("toast");
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.classList.add("show");
      setTimeout(()=>toastEl.classList.remove("show"), 1400);
    }

    // 최초 계산
    compute();
  </script>
</body>
</html>
